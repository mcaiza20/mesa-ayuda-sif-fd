(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1613:function(e,t,a){e.exports={"demo-app":"Mantenimientos_demo-app__38X4y","demo-app-top":"Mantenimientos_demo-app-top__1P144","demo-app-calendar":"Mantenimientos_demo-app-calendar__1e97a"}},1727:function(e,t,a){"use strict";a.r(t);var n=a(46),r=a(45),o=a(47),i=a(48),s=a(49),c=a(1),d=a.n(c),l=a(1607),p=a(1531),u=a.n(p),m=a(1609),h=a.n(m),f=a(1610),v=a.n(f),y=a(1611),g=a.n(y),w=a(1612),b=a.n(w),k=(a(1613),a(1728)),_=a(211),M=a.n(_),j=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).calendarComponentRef=d.a.createRef(),a.state={calendarWeekends:!0,calendarEvents:[]},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=[];M.a.get("https://x7t3agyvv3.execute-api.us-east-1.amazonaws.com/default/mantenimientosProgramados").then(function(a){a.data.payload.map(function(e){var a=e.cliente.nombre+" "+e.contrato["n\xfamero de contrato"];return e.contrato["fechas programadas"].map(function(n){var r=new Date(n).getTime(),o=e.contrato.id+"/"+r;return t.push({id:o,title:a,start:n,color:e.cliente.color,date:r}),n}),e}),t.push({start:"2000-01-01",end:new Date,overlap:!1,rendering:"background",color:"red"}),e.setState({calendarEvents:t})})}},{key:"actualizarFecha",value:function(e){var t=this,a={operation:"actualizarMantenimiento",payload:{id:"","fechas programadas":[]}},n=Object.assign({},this.state);n.calendarEvents.map(function(t){return t.title===e.event.title&&(t.id===e.event.id?(t.start=e.event.start,a.payload["fechas programadas"].push(e.event.start)):(a.payload.id=t.id.substring(0,11),a.payload["fechas programadas"].push(t.start))),t}),M.a.put("https://0utuqhew54.execute-api.us-east-1.amazonaws.com/default/crudContrato",a).then(function(e){t.setState(n)})}},{key:"render",value:function(){var e=this;return d.a.createElement(k.a,null,d.a.createElement(l.a,{locale:g.a,defaultView:"dayGridMonth",header:{left:"prev,next, today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},plugins:[u.a,h.a,v.a,b.a],ref:this.calendarComponentRef,weekends:this.state.calendarWeekends,events:this.state.calendarEvents,dateClick:this.handleDateClick,editable:!0,eventResizableFromStart:!0,eventDrop:function(t){return e.actualizarFecha(t)}}))}}]),t}(c.Component);t.default=j}}]);
//# sourceMappingURL=32.fca0890c.chunk.js.map