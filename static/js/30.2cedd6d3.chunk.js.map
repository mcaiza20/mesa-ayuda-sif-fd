{"version":3,"sources":["components/BarraMenuMDB/BarraMenuMDB.module.css","assets/images/SIFUTUROLOGO.png","components/BarraMenuMDB/BarraMenuMDB.js","function/LocalStorage/limpiarLocalStorage.jsx"],"names":["module","exports","botonLogout","menu_cuerpo","boton_menu","boton_menu_active","menu_arriba","mini_brand","elegant-color","info2","textoP","collapse","__webpack_require__","p","BarraMenuMDB","propiedades","_this","Object","C_Users_Majo_Documents_PROYECTOS_PROPIOS_mesa_ayuda_sif_fd_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","C_Users_Majo_Documents_PROYECTOS_PROPIOS_mesa_ayuda_sif_fd_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_Majo_Documents_PROYECTOS_PROPIOS_mesa_ayuda_sif_fd_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","toggleCollapse","setState","isOpen","state","isOpenInfo","toggleCollapse2","controlarMover","logout","_ref","C_Users_Majo_Documents_PROYECTOS_PROPIOS_mesa_ayuda_sif_fd_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Majo_Documents_PROYECTOS_PROPIOS_mesa_ayuda_sif_fd_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","event","wrap","_context","prev","next","preventDefault","Auth","signOut","localStorage","removeItem","sessionStorage","limpiarLocalStorage","clear","props","history","push","t0","console","log","message","stop","_x","apply","arguments","go","ruta","rol","decryptedString","JSON","parse","aes256","decrypt","conf","KEYLOCALSTORAGE","getItem","USUARIOLOCAL","usuarioAWS","attributes","error","window","addEventListener","btns","document","getElementById","getElementsByClassName","estilos","i","length","current","className","replace","_this2","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","_cao_Auxiliar__WEBPACK_IMPORTED_MODULE_9__","mdbreact__WEBPACK_IMPORTED_MODULE_8__","color","dark","expand","scrolling","fixed","style","position","height","marginBottom","onClick","href","image","id","navbar","left","paddingTop","src","logo","width","alt","to","right","type","children","Component","d","__webpack_exports__"],"mappings":"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","file":"static/js/30.2cedd6d3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"botonLogout\":\"BarraMenuMDB_botonLogout__3wmnR\",\"menu_cuerpo\":\"BarraMenuMDB_menu_cuerpo__11HYr\",\"boton_menu\":\"BarraMenuMDB_boton_menu__1CSE3\",\"boton_menu_active\":\"BarraMenuMDB_boton_menu_active__3qvxj\",\"menu_arriba\":\"BarraMenuMDB_menu_arriba__1V_v4\",\"mini_brand\":\"BarraMenuMDB_mini_brand__Cjl0l\",\"elegant-color\":\"BarraMenuMDB_elegant-color__2kffs\",\"info2\":\"BarraMenuMDB_info2__2MKb1\",\"textoP\":\"BarraMenuMDB_textoP__zCpJY\",\"collapse\":\"BarraMenuMDB_collapse__1ZfnD\"};","module.exports = __webpack_public_path__ + \"static/media/SIFUTUROLOGO.722028f0.png\";","import React, { Component } from \"react\";\r\nimport { MDBNavbar, MDBNavbarNav, MDBNavItem, MDBNavLink, MDBNavbarToggler, MDBCollapse, MDBNavbarBrand} from \"mdbreact\";\r\nimport Auxiliar from './../../cao/Auxiliar'\r\nimport estilos from './BarraMenuMDB.module.css'\r\nimport logo from '../../assets/images/SIFUTUROLOGO.png'\r\nimport { Auth } from 'aws-amplify';\r\nimport { limpiarLocalStorage } from '../../function/LocalStorage/limpiarLocalStorage';\r\nimport conf from '../../data/configuracion.json'\r\nimport aes256 from 'aes256'\r\n\r\n\r\nclass BarraMenuMDB  extends Component {\r\n\r\n  constructor(propiedades) {\r\n    super(propiedades)\r\n    this.state = {\r\n      rol:null,\r\n      isOpen: false,\r\n      isOpenInfo: false,\r\n    }\r\n\r\n  }\r\n  componentWillMount(){\r\n    try {\r\n        let decryptedString = JSON.parse(aes256.decrypt(conf.KEYLOCALSTORAGE, localStorage.getItem(conf.USUARIOLOCAL)));\r\n        this.state.rol = decryptedString.usuarioAWS.attributes['custom:rol']\r\n    } catch (error) {\r\n\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.controlarMover);\r\n    var btnContainer = document.getElementById(\"nav\");\r\n    var btns = btnContainer.getElementsByClassName(estilos.boton_menu);\r\n   \r\n    for (var i = 0; i < btns.length; i++) {\r\n      btns[i].addEventListener(\"click\", function () {\r\n        var current = document.getElementsByClassName(estilos.boton_menu_active);\r\n        \r\n        if (current.length > 0) {\r\n          current[0].className = current[0].className.replace(estilos.boton_menu_active, estilos.boton_menu);\r\n        }\r\n\r\n        this.className = estilos.boton_menu_active;\r\n      });\r\n    }\r\n  }\r\n  toggleCollapse = () => {\r\n    this.setState({ isOpen: !this.state.isOpen, isOpenInfo: false });\r\n  }\r\n  toggleCollapse2 = () => {\r\n    this.setState({ isOpenInfo: !this.state.isOpenInfo, isOpen: false });\r\n  }\r\n  controlarMover = () => {\r\n    this.setState({ isOpen: false, isOpenInfo: false })\r\n  }\r\n\r\n  logout = async event => {\r\n    event.preventDefault();\r\n    try {\r\n      await Auth.signOut();\r\n      localStorage.removeItem('usuario')\r\n      sessionStorage.removeItem('usuario')\r\n      limpiarLocalStorage()\r\n      localStorage.clear()  \r\n      this.props.history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(error.message);\r\n    }\r\n  }\r\n\r\n  go = ruta =>{\r\n    this.props.history.push(ruta)\r\n  }\r\n\r\n  controlarMover = () => {\r\n    this.setState({ isOpen: false, isOpenInfo: false })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Auxiliar>\r\n       \r\n        <MDBNavbar color=\"grey lighten-1\" dark expand=\"md\" scrolling fixed=\"top\" style={{ position: 'inherit', height: '50px', marginBottom :'2%' }}>\r\n          <MDBNavbarToggler onClick={this.toggleCollapse} />\r\n          <MDBNavbarBrand href=\"#\" className={estilos.mini_brand}>\r\n            \r\n          </MDBNavbarBrand>\r\n          <MDBNavbarToggler image=\"https://mdbootstrap.com/img/svg/hamburger8.svg?color=fff\" onClick={this.toggleCollapse2} />\r\n          <MDBCollapse id=\"navbarCollapse3\" isOpen={this.state.isOpen} navbar className={estilos.collapse} >\r\n            <MDBNavbarNav left className={estilos.menu_cuerpo} id='nav' >\r\n               <MDBNavItem style={{paddingTop: '2.3%'}} >\r\n               <img src={logo} width=\"90\" height=\"40\" alt=\"Logo SiFuturo\"></img>\r\n              </MDBNavItem>\r\n              <MDBNavItem >\r\n                <MDBNavLink to=\"/home\" onClick={this.controlarMover}><button onClick={()=>this.go(\"/home/menu\")} className={estilos.boton_menu}>HOME</button></MDBNavLink>\r\n              </MDBNavItem>\r\n              <MDBNavItem >\r\n                <MDBNavLink to=\"/home/ticket\" onClick={this.controlarMover}><button onClick={()=>this.go(\"/home/ticket\")}  className={estilos.boton_menu}>TICKET</button></MDBNavLink>\r\n              </MDBNavItem>\r\n              {this.state.rol === \"personal\" ?\r\n                <MDBNavItem >\r\n                  <MDBNavLink to=\"/home/mantenimientos\" onClick={this.controlarMover}><button onClick={() => this.go(\"/home/mantenimientos\")} className={estilos.boton_menu}>Mantenimientos</button></MDBNavLink>\r\n                </MDBNavItem> : null}              \r\n              </MDBNavbarNav>\r\n              <MDBNavbarNav right>\r\n              <MDBNavItem>\r\n                  <MDBNavLink to=\"/\"><button className={estilos.botonLogout} type=\"button\" onClick={this.logout}>Cerrar Sesión</button></MDBNavLink>\r\n              </MDBNavItem>\r\n            </MDBNavbarNav>\r\n          </MDBCollapse>\r\n        </MDBNavbar>\r\n        {this.props.children}\r\n      </Auxiliar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BarraMenuMDB;","//Esta función limpia el local storage sin borrar el local storage del cognito\r\n\r\n//Se debe poner todos los localstorage que se van a ocupar\r\nexport const limpiarLocalStorage = () => {\r\n\r\n    localStorage.removeItem(\"seleccionado\")\r\n    localStorage.removeItem(\"objTablaCliente\")\r\n    localStorage.removeItem(\"objTablaContrato\")\r\n    localStorage.removeItem(\"accion\")\r\n    localStorage.removeItem(\"tipo\")\r\n    localStorage.removeItem(\"sla\")\r\n    localStorage.removeItem(\"nuevoSeleccionado\")\r\n    localStorage.removeItem(\"cantidad\")\r\n\r\n    return (\r\n        true\r\n    )\r\n}\r\n"],"sourceRoot":""}